# Qt Calculator

–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –Ω–∞ **Qt Widgets** –∏ **C++11**. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –±–æ–∫–æ–≤—É—é –ø–∞–Ω–µ–ª—å –∏—Å—Ç–æ—Ä–∏–∏, —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—É—é –ø–∞–º—è—Ç—å, —Ç–µ–º–Ω—É—é —Ç–µ–º—É.

## ‚ú® –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

* ‚úÖ **–ë–∞–∑–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏**: +, -, √ó, √∑
* ‚úÖ **–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**: ‚àöx, x¬≤, 1/x, %, ¬±
* ‚úÖ **–ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å –∏—Å—Ç–æ—Ä–∏–∏** (Ctrl+H) üÜï
  - –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Å–ø—Ä–∞–≤–∞ –≤–Ω—É—Ç—Ä–∏ –æ–∫–Ω–∞
  - –î–≤—É—Ö—Å—Ç—Ä–æ—á–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –∑–∞–ø–∏—Å–µ–π (–∫–∞–∫ –≤ Windows)
  - –ö–ª–∏–∫ –ø–æ –∑–∞–ø–∏—Å–∏ –∫–æ–ø–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç
  - –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
  - Hover —ç—Ñ—Ñ–µ–∫—Ç—ã
* ‚úÖ **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –ø–∞–º—è—Ç—å** (MC, MR, M+, M-, MS, MÀÖ) üÜï
  - 6 —Ñ—É–Ω–∫—Ü–∏–π –ø–∞–º—è—Ç–∏
  - MS - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ø–∞–º—è—Ç—å
  - MÀÖ - —Å–ø–∏—Å–æ–∫ –∏–∑ 10 –∑–Ω–∞—á–µ–Ω–∏–π
  - –ë—ã—Å—Ç—Ä–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ (Ctrl+M)
* ‚úÖ **–¢–µ–º–Ω–∞—è —Ç–µ–º–∞** (Ctrl+T)
  - –°–≤–µ—Ç–ª–∞—è –∏ —Ç–µ–º–Ω–∞—è —Ç–µ–º–∞
  - –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π
  - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Ç–µ–º—ã
* ‚úÖ **–ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞** (Ctrl+C)

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
# –°–±–æ—Ä–∫–∞
cmake -S . -B build
cmake --build build

# –ó–∞–ø—É—Å–∫ (Linux/Mac)
./build/src/calc

# –ó–∞–ø—É—Å–∫ (Windows)
.\build\src\calc.exe
```

## –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å

![–û—Å–Ω–æ–≤–Ω–æ–µ –º–µ–Ω—é](docs/images/calc.png)
–≤—Å—Ç–∞–≤—å —Å—É–¥–∞ 


## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
calc/
‚îú‚îÄ‚îÄ src/                        # –ò—Å—Ö–æ–¥–Ω–∏–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ main.cpp
‚îÇ   ‚îú‚îÄ‚îÄ mainwindow.cpp/h/ui
‚îÇ   ‚îú‚îÄ‚îÄ calchandler.cpp/h
‚îÇ   ‚îú‚îÄ‚îÄ calculationhistory.cpp/h
‚îÇ   ‚îú‚îÄ‚îÄ historypanel.cpp/h
‚îÇ   ‚îú‚îÄ‚îÄ historydialog.cpp/h
‚îÇ   ‚îú‚îÄ‚îÄ memorymanager.cpp/h
‚îÇ   ‚îú‚îÄ‚îÄ memorydropdowndialog.cpp/h
‚îÇ   ‚îú‚îÄ‚îÄ thememanager.cpp/h
‚îÇ   ‚îú‚îÄ‚îÄ uianimations.cpp/h
‚îÇ   ‚îú‚îÄ‚îÄ displayformatter.cpp/h
‚îÇ   ‚îú‚îÄ‚îÄ inputvalidator.cpp/h
‚îÇ   ‚îî‚îÄ‚îÄ calculatorconfig.h
‚îú‚îÄ‚îÄ tests/                      # Unit-—Ç–µ—Å—Ç—ã (78 —Ç–µ—Å—Ç–æ–≤)
‚îÇ   ‚îú‚îÄ‚îÄ test_calchandler.cpp
‚îÇ   ‚îú‚îÄ‚îÄ test_calculationhistory.cpp
‚îÇ   ‚îú‚îÄ‚îÄ test_displayformatter.cpp
‚îÇ   ‚îú‚îÄ‚îÄ test_inputvalidator.cpp
‚îÇ   ‚îú‚îÄ‚îÄ test_memorymanager.cpp
‚îÇ   ‚îú‚îÄ‚îÄ test_thememanager.cpp
‚îÇ   ‚îú‚îÄ‚îÄ test_uianimations.cpp
‚îÇ   ‚îî‚îÄ‚îÄ test_mainwindow.cpp
‚îú‚îÄ‚îÄ docs/
‚îÇ   ‚îî‚îÄ‚îÄ images/                 # –°–∫—Ä–∏–Ω—à–æ—Ç—ã
‚îú‚îÄ‚îÄ CMakeLists.txt
‚îî‚îÄ‚îÄ README.md
```

## –°–∫—Ä–∏–Ω—à–æ—Ç

![–û—Å–Ω–æ–≤–Ω–æ–µ –æ–∫–Ω–æ](docs/images/calc.png)

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏

| –ö–ª–∞–≤–∏—à–∞        | –î–µ–π—Å—Ç–≤–∏–µ                 |
| -------------- | ------------------------ |
| 0-9            | –í–≤–æ–¥ —Ü–∏—Ñ—Ä                |
| `+ - * /`      | –û–ø–µ—Ä–∞—Ç–æ—Ä—ã                |
| `. ,`          | –î–µ—Å—è—Ç–∏—á–Ω–∞—è —Ç–æ—á–∫–∞         |
| `Enter` / `=`  | –ü–æ—Å—á–∏—Ç–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç      |
| `Backspace`    | –£–¥–∞–ª–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π —Å–∏–º–≤–æ–ª |
| `Delete` / `Esc` | –û—á–∏—Å—Ç–∏—Ç—å –≤—Å—ë           |
| `%`            | –ü—Ä–æ—Ü–µ–Ω—Ç—ã                 |
| **Ctrl+C**     | –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç     |
| **Ctrl+H**     | –û—Ç–∫—Ä—ã—Ç—å/–∑–∞–∫—Ä—ã—Ç—å –∏—Å—Ç–æ—Ä–∏—é  |
| **Ctrl+M**     | M+ (–¥–æ–±–∞–≤–∏—Ç—å –≤ –ø–∞–º—è—Ç—å)   |
| **Ctrl+T**     | –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É         |

### –§—É–Ω–∫—Ü–∏–∏ –ø–∞–º—è—Ç–∏

| –ö–Ω–æ–ø–∫–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
| ------ | -------- |
| **MC** | Memory Clear - –æ—á–∏—Å—Ç–∏—Ç—å –ø–∞–º—è—Ç—å |
| **MR** | Memory Recall - –≤—Å–ø–æ–º–Ω–∏—Ç—å –∏–∑ –ø–∞–º—è—Ç–∏ |
| **M+** | Memory Add - –¥–æ–±–∞–≤–∏—Ç—å –∫ –ø–∞–º—è—Ç–∏ |
| **M-** | Memory Subtract - –≤—ã—á–µ—Å—Ç—å –∏–∑ –ø–∞–º—è—Ç–∏ |
| **MS** | Memory Store - —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –ø–∞–º—è—Ç—å |
| **MÀÖ** | Memory Dropdown - —Å–ø–∏—Å–æ–∫ –∏–∑ 10 –∑–Ω–∞—á–µ–Ω–∏–π |


## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- **Qt 5 –∏–ª–∏ Qt 6**
- **CMake** 3.5+
- **–ö–æ–º–ø–∏–ª—è—Ç–æ—Ä** —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π C++11
- **Qt Test**

## –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

### Linux / macOS

```bash
cmake -S . -B build -DCMAKE_BUILD_TYPE=Release
cmake --build build
./build/calc
```

### Windows (Visual Studio)

```powershell
cmake -S . -B build -G "Visual Studio 17 2022" -A x64
cmake --build build --config Release
.\build\Release\calc.exe
```

## –ü—Ä–æ–±–ª–µ–º—ã —Å–±–æ—Ä–∫–∏

**Qt –Ω–µ –Ω–∞–π–¥–µ–Ω**: —É–∫–∞–∂–∏ –ø—É—Ç—å –∫ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–º—É Qt —á–µ—Ä–µ–∑ `CMAKE_PREFIX_PATH` –∏–ª–∏ `Qt5_DIR`/`Qt6_DIR`.
–ü—Ä–∏–º–µ—Ä:
```powershell
cmake -S . -B build -DCMAKE_PREFIX_PATH="C:\Qt\5.15.2\mingw81_64"
```

**–ö–æ–Ω—Ñ–ª–∏–∫—Ç –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ (VS ‚Üî MinGW)**: –∏—Å–ø–æ–ª—å–∑—É–π –Ω–æ–≤—ã–π –∫–∞—Ç–∞–ª–æ–≥ —Å–±–æ—Ä–∫–∏ –∏–ª–∏ —É–¥–∞–ª–∏ —Å—Ç–∞—Ä—ã–π `build/`.
```powershell
Remove-Item -Recurse -Force build
```

**–ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞ –∏ Qt**: Qt –¥–ª—è MinGW –Ω—É–∂–Ω–æ —Å–æ–±–∏—Ä–∞—Ç—å —á–µ—Ä–µ–∑ `-G "MinGW Makefiles"`,
Qt –¥–ª—è MSVC ‚Äî —á–µ—Ä–µ–∑ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä Visual Studio. –ù–∞–±–æ—Ä—ã –¥–æ–ª–∂–Ω—ã —Å–æ–≤–ø–∞–¥–∞—Ç—å.

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
cd build
ctest --verbose
```

